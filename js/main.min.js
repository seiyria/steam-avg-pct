(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/seioyria/projects/steam-avg-pct/src/js/controllers/MainController.js":[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }

module.exports = function ($scope, $localStorage, QueryData) {
    $scope.dataStore = $localStorage;
    $scope.games = [];
    $scope.allGames = [];
    $scope.go = function () {
        $scope.loading = true;
        $scope.errorState = false;
        QueryData.go().then(function (games) {
            var _$scope$allGames;

            (_$scope$allGames = $scope.allGames).push.apply(_$scope$allGames, _toConsumableArray(games));
            $scope.avgPct = _.sum(games, 'percent') / games.length;
        }, function () {
            $scope.errorState = true;
        }).then(function () {
            $scope.loading = false;
        });
    };
};

},{}],"/home/seioyria/projects/steam-avg-pct/src/js/directives/CheckFilter.js":[function(require,module,exports){
'use strict';

module.exports = function () {
    return {
        restrict: 'E',
        scope: {
            predicate: '@',
            checked: '='
        },
        require: '^stTable',
        template: '<input type="checkbox" ng-model="sel" ng-change="change()" />',
        link: function link(scope, element, attr, ctrl) {
            scope.sel = scope.checked;
            scope.change = function () {
                ctrl.search(scope.sel, scope.predicate);
            };
            scope.change();
        }
    };
};

},{}],"/home/seioyria/projects/steam-avg-pct/src/js/filters/TableFilter.js":[function(require,module,exports){
"use strict";

module.exports = function () {
    return function (array, predicate) {
        var ret = [];

        _.each(array, function (obj) {
            if (obj.complete && predicate.complete) ret.push(obj);
            if (obj.above && predicate.above) ret.push(obj);
            if (obj.below && predicate.below) ret.push(obj);
        });

        console.log(ret, predicate);

        return ret;
    };
};

},{}],"/home/seioyria/projects/steam-avg-pct/src/js/index.js":[function(require,module,exports){
'use strict';

angular.module('SteamAvgPct', ['smart-table', 'ui.bootstrap', 'ngStorage']).filter('TableFilter', require('./filters/TableFilter')).directive('checkFilter', require('./directives/CheckFilter')).service('QueryData', require('./services/QueryData')).controller('MainCtrl', require('./controllers/MainController'));

},{"./controllers/MainController":"/home/seioyria/projects/steam-avg-pct/src/js/controllers/MainController.js","./directives/CheckFilter":"/home/seioyria/projects/steam-avg-pct/src/js/directives/CheckFilter.js","./filters/TableFilter":"/home/seioyria/projects/steam-avg-pct/src/js/filters/TableFilter.js","./services/QueryData":"/home/seioyria/projects/steam-avg-pct/src/js/services/QueryData.js"}],"/home/seioyria/projects/steam-avg-pct/src/js/services/QueryData.js":[function(require,module,exports){
'use strict';

module.exports = function ($localStorage, $http) {
    var url = 'https://webtask.it.auth0.com/api/run/wt-kyle-seiyria_com-0/steamcalc?webtask_no_cache=1';
    return {
        go: function go() {
            return $http.get(url, {
                params: { username: $localStorage.username }
            }).then(function (res) {
                var games = res.data.games;
                var avgPct = _.sum(games, 'percent') / games.length;

                _.each(games, function (achievement) {
                    achievement.percent = achievement.earned / achievement.max * 100;
                    if (achievement.percent === 100) achievement.complete = true;
                    if (achievement.percent < avgPct) achievement.below = true;
                    if (achievement.percent >= avgPct && achievement.percent !== 100) achievement.above = true;
                });
                return _.sortBy(games, 'percent');
            });
        }
    };
};

},{}]},{},["/home/seioyria/projects/steam-avg-pct/src/js/index.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9zdGVhbS1hdmctcGN0L3NyYy9qcy9jb250cm9sbGVycy9NYWluQ29udHJvbGxlci5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL3N0ZWFtLWF2Zy1wY3Qvc3JjL2pzL2RpcmVjdGl2ZXMvQ2hlY2tGaWx0ZXIuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9zdGVhbS1hdmctcGN0L3NyYy9qcy9maWx0ZXJzL1RhYmxlRmlsdGVyLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvc3RlYW0tYXZnLXBjdC9zcmMvanMvaW5kZXguanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9zdGVhbS1hdmctcGN0L3NyYy9qcy9zZXJ2aWNlcy9RdWVyeURhdGEuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FDQ0EsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFLO0FBQ25ELFVBQU0sQ0FBQyxTQUFTLEdBQUcsYUFBYSxDQUFDO0FBQ2pDLFVBQU0sQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBQ2xCLFVBQU0sQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3JCLFVBQU0sQ0FBQyxFQUFFLEdBQUcsWUFBTTtBQUNkLGNBQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLGNBQU0sQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0FBQzFCLGlCQUFTLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUMsS0FBSyxFQUFLOzs7QUFDM0IsZ0NBQUEsTUFBTSxDQUFDLFFBQVEsRUFBQyxJQUFJLE1BQUEsc0NBQUksS0FBSyxFQUFDLENBQUM7QUFDL0Isa0JBQU0sQ0FBQyxNQUFNLEdBQUksQ0FBQyxDQUFDLEdBQUcs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QyxHQUFHLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEFBQUMsQ0FBQzs7QUFFdEQsaUJBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFVBQVMsV0FBVyxFQUFFO0FBQ2hDLCtCQUFXLENBQUMsT0FBTyxHQUFHLFdBQVcsQ0FBQyxNQUFNLEdBQUMsV0FBVyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDL0Qsd0JBQUcsV0FBVyxDQUFDLE9BQU8sS0FBSyxHQUFHLEVBQUUsV0FBVyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDNUQsd0JBQUcsV0FBVyxDQUFDLE9BQU8sR0FBRyxNQUFNLEVBQUUsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDMUQsd0JBQUcsV0FBVyxDQUFDLE9BQU8sSUFBSSxNQUFNLElBQUksV0FBVyxDQUFDLE9BQU8sS0FBSyxHQUFHLEVBQUUsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7aUJBQzdGLENBQUMsQ0FBQztBQUNILHVCQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO2FBQ3JDLENBQUMsQ0FBQztTQUNOO0tBQ0osQ0FBQztDQUNMLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG5tb2R1bGUuZXhwb3J0cyA9ICgkc2NvcGUsICRsb2NhbFN0b3JhZ2UsIFF1ZXJ5RGF0YSkgPT4ge1xuICAgICRzY29wZS5kYXRhU3RvcmUgPSAkbG9jYWxTdG9yYWdlO1xuICAgICRzY29wZS5nYW1lcyA9IFtdO1xuICAgICRzY29wZS5hbGxHYW1lcyA9IFtdO1xuICAgICRzY29wZS5nbyA9ICgpID0+IHtcbiAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuZXJyb3JTdGF0ZSA9IGZhbHNlO1xuICAgICAgICBRdWVyeURhdGEuZ28oKS50aGVuKChnYW1lcykgPT4ge1xuICAgICAgICAgICAgJHNjb3BlLmFsbEdhbWVzLnB1c2goLi4uZ2FtZXMpO1xuICAgICAgICAgICAgJHNjb3BlLmF2Z1BjdCA9IChfLnN1bShnYW1lcywgJ3BlcmNlbnQnKSAvIGdhbWVzLmxlbmd0aCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICRzY29wZS5lcnJvclN0YXRlID0gdHJ1ZTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xufTsiLCJcbm1vZHVsZS5leHBvcnRzID0gKCkgPT4gKHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHNjb3BlOiB7XG4gICAgICAgIHByZWRpY2F0ZTogJ0AnLFxuICAgICAgICBjaGVja2VkOiAnPSdcbiAgICB9LFxuICAgIHJlcXVpcmU6ICdec3RUYWJsZScsXG4gICAgdGVtcGxhdGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZWxcIiBuZy1jaGFuZ2U9XCJjaGFuZ2UoKVwiIC8+JyxcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpID0+IHtcbiAgICAgICAgc2NvcGUuc2VsID0gc2NvcGUuY2hlY2tlZDtcbiAgICAgICAgc2NvcGUuY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgY3RybC5zZWFyY2goc2NvcGUuc2VsLCBzY29wZS5wcmVkaWNhdGUpO1xuICAgICAgICB9O1xuICAgICAgICBzY29wZS5jaGFuZ2UoKTtcbiAgICB9XG59KTsiLCJcbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICAgIHJldHVybiAoYXJyYXksIHByZWRpY2F0ZSkgPT4ge1xuICAgICAgICBsZXQgcmV0ID0gW107XG5cbiAgICAgICAgXy5lYWNoKGFycmF5LCAob2JqKSA9PiB7XG4gICAgICAgICAgICBpZihvYmouY29tcGxldGUgJiYgcHJlZGljYXRlLmNvbXBsZXRlKSByZXQucHVzaChvYmopO1xuICAgICAgICAgICAgaWYob2JqLmFib3ZlICYmIHByZWRpY2F0ZS5hYm92ZSkgcmV0LnB1c2gob2JqKTtcbiAgICAgICAgICAgIGlmKG9iai5iZWxvdyAmJiBwcmVkaWNhdGUuYmVsb3cpIHJldC5wdXNoKG9iaik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHJldCwgcHJlZGljYXRlKTtcblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59OyIsIlxuYW5ndWxhci5tb2R1bGUoJ1N0ZWFtQXZnUGN0JywgWydzbWFydC10YWJsZScsICd1aS5ib290c3RyYXAnLCAnbmdTdG9yYWdlJ10pXG4gICAgLmZpbHRlcignVGFibGVGaWx0ZXInLCByZXF1aXJlKCcuL2ZpbHRlcnMvVGFibGVGaWx0ZXInKSlcbiAgICAuZGlyZWN0aXZlKCdjaGVja0ZpbHRlcicsIHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9DaGVja0ZpbHRlcicpKVxuICAgIC5zZXJ2aWNlKCdRdWVyeURhdGEnLCByZXF1aXJlKCcuL3NlcnZpY2VzL1F1ZXJ5RGF0YScpKVxuICAgIC5jb250cm9sbGVyKCdNYWluQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvTWFpbkNvbnRyb2xsZXInKSlcbjsiLCJcbm1vZHVsZS5leHBvcnRzID0gKCRsb2NhbFN0b3JhZ2UsICRodHRwKSA9PiB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vd2VidGFzay5pdC5hdXRoMC5jb20vYXBpL3J1bi93dC1reWxlLXNlaXlyaWFfY29tLTAvc3RlYW1jYWxjP3dlYnRhc2tfbm9fY2FjaGU9MSc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ286ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQodXJsLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IHVzZXJuYW1lOiAkbG9jYWxTdG9yYWdlLnVzZXJuYW1lIH1cbiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBnYW1lcyA9IHJlcy5kYXRhLmdhbWVzO1xuICAgICAgICAgICAgICAgIGxldCBhdmdQY3QgPSAoXy5zdW0oZ2FtZXMsICdwZXJjZW50JykgLyBnYW1lcy5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgXy5lYWNoKGdhbWVzLCBmdW5jdGlvbihhY2hpZXZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhY2hpZXZlbWVudC5wZXJjZW50ID0gYWNoaWV2ZW1lbnQuZWFybmVkL2FjaGlldmVtZW50Lm1heCAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgaWYoYWNoaWV2ZW1lbnQucGVyY2VudCA9PT0gMTAwKSBhY2hpZXZlbWVudC5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGFjaGlldmVtZW50LnBlcmNlbnQgPCBhdmdQY3QpIGFjaGlldmVtZW50LmJlbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYWNoaWV2ZW1lbnQucGVyY2VudCA+PSBhdmdQY3QgJiYgYWNoaWV2ZW1lbnQucGVyY2VudCAhPT0gMTAwKSBhY2hpZXZlbWVudC5hYm92ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uc29ydEJ5KGdhbWVzLCAncGVyY2VudCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufTsiXX0=
